<h1 align="center">IRIS</h1>

![splash](assets/splash.png)

> Project currently work in progress

# Rationale

- Create a tool for close friends and I to communicate securely over insecure channels.
- Easily spin out wallet software for another project I've been working on where most of the ECC logic comes from: https://github.com/ramity/ramium
- Explore compiling c++ executables for multiple platforms

# Planned design

- Designed for self-contained, USB-flashdrive environments in airgapped environments

# Planned features

- Dockerized development and build environments
- Portable 64-bit Window and 64-bit Linux binary executables

## Key formats
- ECC

## Key management
- Generation
- Storage
- Destruction

## Key operations
- Encryption
- Decryption
- Signing
- Verification

---

## Setting up dev environment
(Host computer)
```
docker compose up -d
# Enter container
docker exec -it iris_dev bash
```

## Compile cryptopp for both linux and windows platforms

(Inside container)
```
./scripts/lib/compile-all-cryptopp.sh
```

## Compile iris for both linux and windows platforms

(Inside container)
```
./scripts/build.sh
```

## Run linux tests

(Inside container)
```
./scripts/test.sh
```

## Compile ecc test for windows environment

(Inside container)
```
./scripts/w64-compile-ecc.sh
```

(Host computer - assuming windows environment)
```
./bin/win64-cc-test.exe
```

## A note on deterministic keys

```
./iris keypair generate ./keys/private_key ./keys/public_key toUseEvenGoWantToDoLookMoreLike 42
```

Deterministic keys are generated by hashing a provided seed string a specified multiple of times (technically N+1 times; as the `set_seed` method internally hashes the provided value). The seed hash is then processed by taking the first 32 bytes as a key and the following 16 bytes as an initialization vector to create a unqiue 256 bit AES key. This key is used exclusively to deterministically generate a keypair. Not providing a seed results in the use of an automatically seeded using a OS provided random number generation (`CryptoPP::AutoSeededRandomPool`). Encryption, decryption, and signing operations use `CryptoPP::AutoSeededRandomPool`.
